{ "acknowledged": false,
  "check": "VETTING_HEALTH_CHECK_WEAK",
  "client": "ci-tjenesteweb2.finntech.no",
  "dc": "sensu",
  "history": [
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    2,
    2,
    2,
    2,
    2,
    1,
    1,
    1
  ],
  "last_execution": 1465215180,
  "last_result": {
    "action": "create",
    "command": "ruby -e 'require \"net/http\"; require \"json\"; proxy_host = \"localhost\"; proxy_port = 8991; use_lb_status = false; url = \"http://ci.annonsekontroll.finn.no/health/services\"; begin;   if use_lb_status and !File.exist?( \"/iad/finn/vettingwebapp/htdocs/lb.html\" ) then;    puts \"OK: not in load balancer\";     exit 0;   end;   uri = URI.parse( url );   client = Net::HTTP::Proxy(proxy_host, proxy_port).new( uri.host, uri.port );   client.open_timeout = 1;   client.read_timeout = 1;   req = Net::HTTP::Get.new( uri.request_uri );   res = client.request( req );   puts \"HTTP status: \"+ res.code + \" \" + res.message;   if [ \"200\" ].include? res.code then;     json_ob=JSON.parse(res.body);     if( json_ob.include?( \"health\" )  ) then;       status=json_ob[\"health\"];       puts status;       if \"GOOD\" == status then;         exit 0;       elsif [\"WEAK\", \"BAD\"].include? status then;         puts res.body.encode(\"utf-8\", \"binary\", :invalid => :replace, :undef => :replace, :replace => \"\").delete( 134.chr+142.chr+143.chr+145.chr+146.chr);         exit 1;       end;       puts \"ERROR: health neither GOOD, WEAK nor BAD\";       puts res.body.encode(\"utf-8\", \"binary\", :invalid => :replace, :undef => :replace, :replace => \"\").delete( 134.chr+142.chr+143.chr+145.chr+146.chr);       exit 1;     end;     puts \"ERROR: health not specified in JSON ouput\";     puts res.body.encode(\"utf-8\", \"binary\", :invalid => :replace, :undef => :replace, :replace => \"\").delete( 134.chr+142.chr+143.chr+145.chr+146.chr);     exit 1;   end;   exit 1; rescue StandardError => e;   puts e.message;   exit 1;  end; '",
    "duration": 0.302,
    "executed": 1465215180,
    "finn_app": "vettingwebapp",
    "finn_env": "ci",
    "handlers": [
      "default"
    ],
    "history": [
      "1",
      "1",
      "1",
      "1",
      "1",
      "1",
      "1",
      "1",
      "1",
      "1",
      "1",
      "1",
      "1",
      "2",
      "2",
      "2",
      "2",
      "2",
      "1",
      "1",
      "1"
    ],
    "interval": 60,
    "issued": 1465215180,
    "name": "VETTING_HEALTH_CHECK_WEAK",
    "occurrences": 3,
    "output": "HTTP status: 500 Internal Server Error\n",
    "standalone": true,
    "status": 1,
    "tags": [
      "ci",
      "weak_json_check"
    ],
    "teams": [
      "Forbrukertrygghet"
    ],
    "timeout": 1,
    "total_state_change": 11
  },
  "last_status": 1
}
